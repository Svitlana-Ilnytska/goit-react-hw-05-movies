"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[410],{9155:function(e,t,n){n.d(t,{Z:function(){return u}});n(2791);var r=n(9271),o=n(1523),c="MoviesList_list_link__S4wJf",a="MoviesList_link__ge7fq",i=n(184);function u(e){var t=e.movies,n=(0,r.TH)();return(0,i.jsx)("ul",{className:c,children:t.map((function(e){var t=e.id,r=e.title;return(0,i.jsx)("li",{className:a,children:(0,i.jsx)(o.rU,{to:{pathname:"/movies/".concat(t),state:{from:n}},style:{textDecoration:"none"},children:r})},t)}))})}},4390:function(e,t,n){n.d(t,{vw:function(){return c},BG:function(){return a},FE:function(){return i},uV:function(){return u},Hx:function(){return s}});var r="e8ad9fce8be376ae39b35f64abca58d4",o="https://api.themoviedb.org";function c(){return fetch("".concat(o,"/3/trending/movie/day?api_key=").concat(r,"&page=1")).then((function(e){if(e.ok)return e.json();throw new Error(e.statusText)}))}function a(e){return fetch("".concat(o,"/3/movie/").concat(e,"?api_key=").concat(r,"&language=en-US")).then((function(e){if(e.ok)return e.json();throw new Error(e.statusText)}))}function i(e){return fetch("".concat(o,"/3/search/movie?api_key=").concat(r,"&language=en-US&include_adult=false&query=").concat(e,"&page=1")).then((function(e){if(e.ok)return e.json();throw new Error(e.statusText)}))}function u(e){return fetch("".concat(o,"/3/movie/").concat(e,"/credits?api_key=").concat(r,"&language=en-US")).then((function(e){if(e.ok)return e.json();throw new Error(e.statusText)}))}function s(e){return fetch("".concat(o,"/3/movie/").concat(e,"/reviews?api_key=").concat(r,"&language=en-US")).then((function(e){if(e.ok)return e.json();throw new Error(e.statusText)}))}},7754:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var r=n(8683),o=n(8152),c=n(2791),a=n(4390),i=n(577),u=(n(5462),"Searchbar_form__ZnH8q"),s="Searchbar_button__nk6j0",f="Searchbar_buttonLabel__R6q0g",l="Searchbar_input__Q+5k7",h=n(184);function m(e){var t=e.onSubmit,n=(0,c.useState)(""),r=(0,o.Z)(n,2),a=r[0],m=r[1];return(0,h.jsx)("div",{children:(0,h.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===a.trim())return(0,i.Am)("Please enter something;)");t(a),m("")},className:u,children:[(0,h.jsx)("input",{className:l,type:"text",placeholder:"Your favorite movie",value:a,name:"query",onChange:function(e){m(e.target.value.toLowerCase())}}),(0,h.jsx)("button",{type:"submit",className:s,children:(0,h.jsx)("span",{className:f,children:"Search"})})]})})}var p=n(9155),v=n(7530),_=(n(3158),"MoviesPage_notification__A4kJJ"),b=n(9271);function g(){var e=(0,b.TH)(),t=(0,b.k6)(),n=(0,c.useState)(""),u=(0,o.Z)(n,2),s=u[0],f=u[1],l=(0,c.useState)([]),g=(0,o.Z)(l,2),j=g[0],d=g[1],w=(0,c.useState)(!1),y=(0,o.Z)(w,2),S=y[0],x=y[1],k=(0,c.useState)(null),O=(0,o.Z)(k,2),P=O[0],Z=O[1];(0,c.useEffect)((function(){s&&E()}),[s]),(0,c.useEffect)((function(){var t,n=null!==(t=new URLSearchParams(e.search).get("query"))&&void 0!==t?t:"";n&&f(n)}),[t,e]);var E=function(){x(!0),a.FE(s).then((function(e){var t=e.results;return d(t)})).then(t.push((0,r.Z)((0,r.Z)({},e),{},{search:"query=".concat(s)}))).catch((function(e){(0,i.Am)("Trouble. Something is wrong :("),Z(e)})).finally((function(){return x(!1)}))};return(0,h.jsxs)(h.Fragment,{children:[P&&(0,h.jsx)("p",{className:_,children:"Sorry. Something is wrong \xaf\\_(\u30c4)_/\xaf"}),S&&(0,h.jsx)(v.Z,{}),(0,h.jsx)(m,{onSubmit:function(e){d([]),f(e)}}),j&&(0,h.jsx)(p.Z,{movies:j}),(0,h.jsx)(i.Ix,{})]})}},8683:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,{Z:function(){return c}})}}]);
//# sourceMappingURL=MoviesPage.1db6e6d4.chunk.js.map